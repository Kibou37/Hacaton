# Архитектура проекта "Рекомендации по выбору одежды"

## Общее описание

Это веб-приложение, которое помогает пользователям получить персональные рекомендации по выбору одежды на основе их физических параметров. Пользователь вводит свои данные (пол, рост, цвет волос и глаз, оттенок кожи, замеры тела), и система анализирует эту информацию, определяя тип фигуры, полнотную группу и цветотип внешности. На основе этого анализа выдаются рекомендации по подбору одежды, фасонов, цветов и стилей.

## Почему был выбран React?

### Проблема, которую нужно было решить

При создании этого приложения нужно было реализовать несколько сложных задач:

1. **Интерактивные формы** - пользователь должен вводить множество параметров с валидацией
2. **Динамическое отображение результатов** - после анализа нужно показать рекомендации, которые формируются на основе сложных вычислений
3. **Интерактивные упражнения** - система тестов для закрепления материала с отслеживанием прогресса
4. **Переключение между экранами** - форма → результаты → упражнения, с сохранением данных между переходами

### Почему React, а не простой HTML/CSS/JavaScript?

Если бы мы использовали обычный HTML/CSS/JavaScript, нам пришлось бы:

- Вручную управлять каждым элементом на странице через `document.getElementById()` и `innerHTML`
- Самостоятельно отслеживать, какие данные введены, какие результаты вычислены, на каком экране находится пользователь
- Писать много повторяющегося кода для переключения между экранами
- Сложно поддерживать код - если нужно изменить что-то в одном месте, придется менять в нескольких

React решает эти проблемы:

- **Компоненты** - каждая часть интерфейса (форма, результаты, упражнения) - это отдельный компонент, который можно разрабатывать и тестировать независимо
- **Управление состоянием** - React автоматически отслеживает все данные и обновляет интерфейс при их изменении
- **Переиспользование** - один раз написали компонент, используем его везде, где нужно
- **Структурированность** - код организован логично, легко найти нужную часть

### Пример: как это работает

**Без React (обычный JavaScript):**
```javascript
// Нужно вручную управлять каждым элементом
function showResults() {
  document.getElementById('form').style.display = 'none';
  document.getElementById('results').style.display = 'block';
  document.getElementById('userData').innerHTML = '...';
  // И так далее для каждого элемента
}
```

**С React:**
```javascript
// Просто меняем состояние, React сам обновит интерфейс
setState('results'); // И всё! Интерфейс обновится автоматически
```

## Структура проекта

### Основные папки и файлы

```
Hacaton/
├── src/                    # Исходный код приложения
│   ├── components/         # Компоненты интерфейса
│   │   ├── UserForm.tsx   # Форма ввода данных пользователя
│   │   ├── Recommendations.tsx  # Отображение результатов
│   │   └── Exercises.tsx  # Интерактивные упражнения
│   ├── utils/             # Вспомогательные функции
│   │   ├── bodyAnalysis.ts    # Логика определения типа фигуры
│   │   └── recommendations.ts # Генерация рекомендаций
│   ├── types/             # Определения типов данных
│   │   └── index.ts       # Все типы и интерфейсы
│   ├── App.tsx            # Главный компонент приложения
│   └── main.tsx           # Точка входа в приложение
├── .github/
│   └── workflows/
│       └── deploy.yml      # Настройка автоматического деплоя
├── index.html             # HTML шаблон
├── vite.config.ts         # Конфигурация сборщика
└── package.json           # Зависимости проекта
```

### Как работает приложение

#### 1. Точка входа (main.tsx)

Это самый первый файл, который запускается. Он "монтирует" (подключает) React приложение к HTML странице. Представьте, что это как включение телевизора - он подключает все компоненты к экрану.

#### 2. Главный компонент (App.tsx)

Это "дирижер" всего приложения. Он решает:
- Какой экран показывать (форму, результаты или упражнения)
- Где хранить данные пользователя и результаты анализа
- Как переключаться между экранами

Работает это так:
1. Пользователь открывает сайт → показывается форма
2. Пользователь заполняет форму и нажимает "Получить рекомендации"
3. App.tsx получает данные, запускает анализ, сохраняет результаты
4. App.tsx переключает экран на "результаты"
5. Пользователь видит свои рекомендации

#### 3. Компоненты

**UserForm.tsx** - форма ввода данных
- Содержит все поля для ввода (пол, рост, цвета, замеры)
- Проверяет, что все поля заполнены
- Отправляет данные в App.tsx при нажатии кнопки

**Recommendations.tsx** - отображение результатов
- Получает результаты анализа от App.tsx
- Красиво отображает тип фигуры, цветотип, рекомендации
- Показывает цветовую палитру
- Предлагает перейти к упражнениям

**Exercises.tsx** - интерактивные упражнения
- Генерирует вопросы на основе результатов анализа
- Позволяет выбрать ответ
- Проверяет правильность
- Показывает объяснения
- Считает баллы

#### 4. Утилиты (логика приложения)

**bodyAnalysis.ts** - "мозг" анализа фигуры
- `determineBodyType()` - определяет тип фигуры по замерам
  - Сравнивает обхват груди, талии и бедер
  - Применяет математические формулы
  - Возвращает тип: "песочные часы", "прямоугольник", "груша" и т.д.
  
- `determineBodySize()` - определяет размер одежды
  - Вычисляет среднее значение замеров
  - Относит к категории: XS, S, M, L, XL, XXL
  
- `determineColorType()` - определяет цветотип
  - Анализирует комбинацию цвета волос, глаз и оттенка кожи
  - Определяет: "Весна", "Лето", "Осень" или "Зима"

**recommendations.ts** - генератор рекомендаций
- Получает результаты анализа
- Подбирает рекомендации в зависимости от типа фигуры и пола
- Для каждого типа фигуры есть свой набор советов:
  - Какие типы одежды подходят
  - Какие силуэты выгодны
  - Какая длина рукавов
  - Какая посадка по талии
  - Какие цвета использовать

## Как работает анализ фигуры?

### Определение типа фигуры

Система сравнивает три основных замера:
- **ОГ** (Обхват груди) - измеряется на уровне груди
- **ОТ** (Обхват талии) - самое узкое место
- **ОБ** (Обхват бедер) - самое широкое место на бедрах

**Логика определения:**

1. **Песочные часы** (для женщин)
   - Грудь и бедра примерно равны (разница ≤ 5 см)
   - Талия значительно меньше (разница ≥ 20 см)
   - Классическая женская фигура

2. **Прямоугольник**
   - Все три замера примерно равны (разница ≤ 5-8 см)
   - Талия слабо выражена
   - Прямые линии тела

3. **Треугольник (Груша)**
   - Бедра значительно больше груди (разница > 5 см)
   - Нижняя часть тела объемнее

4. **Перевернутый треугольник**
   - Грудь значительно больше бедер (разница > 5-8 см)
   - Широкие плечи, узкие бедра
   - Для мужчин часто называется "атлетическая фигура"

5. **Яблоко**
   - Талия больше или равна груди/бедрам
   - Объем сосредоточен в области живота

### Определение цветотипа

Система анализирует три параметра:
- **Цвет волос**: светлый, каштановый, темный, рыжий, седой
- **Цвет глаз**: голубой, зеленый, карий, серый, ореховый
- **Оттенок кожи**: светлый, средний, оливковый, загорелый, темный

**Цветотипы:**

- **Весна**: светлые волосы/рыжие + светлые глаза + светлая кожа
- **Лето**: светлые/седые волосы + светлые глаза + светлая/средняя кожа
- **Осень**: рыжие/каштановые волосы + теплые глаза + средняя/оливковая кожа
- **Зима**: темные волосы + контрастные глаза + любая кожа

## Как работает деплой на GitHub Pages?

### Процесс автоматической публикации

1. **Разработка** - вы пишете код локально на компьютере
2. **Коммит** - сохраняете изменения в Git
3. **Push** - отправляете код на GitHub
4. **GitHub Actions** - автоматически запускается процесс:
   - Устанавливает Node.js
   - Устанавливает зависимости (`npm ci`)
   - Собирает проект (`npm run build`)
   - Создает папку `dist` с готовым сайтом
   - Публикует на GitHub Pages
5. **Результат** - сайт доступен по адресу `https://username.github.io/Hacaton/`

### Файл deploy.yml

Это "инструкция" для GitHub Actions, которая говорит:
- Когда запускаться (при каждом push в ветку main)
- Что делать (установить зависимости, собрать проект, опубликовать)
- Какие права нужны (чтение кода, запись в Pages)

## Технологии и инструменты

### React
Библиотека для создания пользовательских интерфейсов. Позволяет создавать интерактивные веб-приложения.

### TypeScript
Расширение JavaScript, которое добавляет проверку типов. Помогает находить ошибки до запуска программы.

### Vite
Современный инструмент для сборки проектов. Очень быстрый и удобный.

### GitHub Pages
Бесплатный хостинг для статических сайтов. Автоматически публикует ваш сайт при каждом обновлении кода.

## Почему такая структура?

### Разделение на компоненты
Каждый компонент отвечает за свою часть:
- Форма - только ввод данных
- Результаты - только отображение
- Упражнения - только тестирование

Это как разделение обязанностей в команде - каждый делает свое дело.

### Отделение логики от интерфейса
- `utils/` - чистая логика, без интерфейса
- `components/` - только интерфейс, логика минимальна

Это позволяет:
- Легко тестировать логику отдельно
- Менять интерфейс, не трогая логику
- Переиспользовать логику в других проектах

### Типы данных
Все данные описаны в `types/index.ts`. Это как "договор" - мы заранее договариваемся, какие данные будут использоваться, и TypeScript следит, чтобы мы не ошиблись.

## Как расширить проект?

### Добавить новые типы фигур
1. Добавить новый тип в `types/index.ts`
2. Добавить логику определения в `bodyAnalysis.ts`
3. Добавить рекомендации в `recommendations.ts`
4. Обновить компоненты для отображения

### Добавить новые упражнения
1. Расширить массив `exercises` в `Exercises.tsx`
2. Добавить новые вопросы и варианты ответов

### Изменить стиль
1. Отредактировать CSS файлы в папке `components/`
2. Или изменить `App.css` для глобальных стилей

## Заключение

Этот проект демонстрирует современный подход к разработке веб-приложений:
- Использование компонентов для структурирования кода
- Разделение логики и интерфейса
- Автоматизация деплоя
- Типобезопасность через TypeScript

Все это делает проект легко поддерживаемым, расширяемым и надежным.

